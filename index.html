<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">

<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"ceaser.wang","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.12.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="南贺神社">
<meta property="og:url" content="https://ceaser.wang/index.html">
<meta property="og:site_name" content="南贺神社">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="CeaserWang">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://ceaser.wang/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>南贺神社 - 你写程序有写诗一样的感觉吗?</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">南贺神社</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">你写程序有写诗一样的感觉吗?</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">208</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">26</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">217</span></a></li><li class="menu-item menu-item-0xcc"><a href="/0xcc/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>0XCC</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CeaserWang"
      src="/../0xcc/index/Uchiha.jpg">
  <p class="site-author-name" itemprop="name">CeaserWang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">217</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">208</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzExNTY3MjE4NzQ=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;1156721874"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOmNlYXNlcndhbmdAb3V0bG9vay5jb20=" title="E-Mail → mailto:ceaserwang@outlook.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-user-friends fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly90d29kcmFnb25sYWtlLmNvbQ==" title="https:&#x2F;&#x2F;twodragonlake.com">TwoDragonLake</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9yb290Y2x1c3Rlci5naXRodWIuaW8=" title="https:&#x2F;&#x2F;rootcluster.github.io">RootCluster</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9tdXNlZmxvdy5pbw==" title="https:&#x2F;&#x2F;museflow.io">MuseFlow</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9pbmNvZGVyLm9yZw==" title="https:&#x2F;&#x2F;incoder.org">BladeCode</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9rYWlmYS5kZXY=" title="https:&#x2F;&#x2F;kaifa.dev">Alyenc</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmRhemhpZGF5b25nLmNu" title="https:&#x2F;&#x2F;blog.dazhidayong.cn">Killua</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9qb2NlbHluc2hhbmcuY24v" title="https:&#x2F;&#x2F;jocelynshang.cn&#x2F;">Jocelyn</span>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2023/05/01/embed/diyigearmluobanchengxu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/01/embed/diyigearmluobanchengxu/" class="post-title-link" itemprop="url">第1个ARM裸板程序及引申</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-01 16:00:00" itemprop="dateCreated datePublished" datetime="2023-05-01T16:00:00+00:00">2023-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:58" itemprop="dateModified" datetime="2023-11-12T07:06:58+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/embed/" itemprop="url" rel="index"><span itemprop="name">embed</span></a>
        </span>
    </span>

  
    <span id="/2023/05/01/embed/diyigearmluobanchengxu/" class="post-meta-item leancloud_visitors" data-flag-title="第1个ARM裸板程序及引申" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="硬件知识-LED原理图-辅线"><a href="#硬件知识-LED原理图-辅线" class="headerlink" title="硬件知识_LED原理图(辅线)"></a>硬件知识_LED原理图(辅线)</h1><p>怎样点亮一个LED？</p>
<ol>
<li>看原理图，确定控制LED的引脚，</li>
<li>看主芯片手册，确定如何设置&#x2F;控制引脚</li>
<li>写程序</li>
</ol>
<h2 id="原理图"><a href="#原理图" class="headerlink" title="原理图"></a>原理图</h2><p>led的电阻很小，接通电源以后，其本身的电流很大，会被烧毁<br><img src="https://s2.loli.net/2023/05/01/TMUk48wPXho9KWE.png" alt="image.png"><br>因此在他之前加了一个电阻：<br><img src="https://s2.loli.net/2023/05/01/gkCuEthS3zjFmX1.png" alt="image.png"></p>
<p>这里的开关使我们手动的，在芯片里边都是引脚，引脚可以输出一个电压值<br><img src="https://s2.loli.net/2023/05/01/PVkBqd91YbR8zUX.png" alt="image.png"><br>还可以<br><img src="https://s2.loli.net/2023/05/01/bBUsd51ZpfOxciu.png" alt="image.png"></p>
<p>有些芯片的引脚驱动不足，电压很低，不能驱动LED，这个时候需要三极管<br><img src="https://s2.loli.net/2023/05/01/mHWpOifNJRslraG.png" alt="image.png"><br><img src="https://s2.loli.net/2023/05/01/f3QMhN9qomtFWBg.png" alt="image.png"></p>
<h2 id="硬件知识"><a href="#硬件知识" class="headerlink" title="硬件知识"></a>硬件知识</h2><p>打开s3c2440的芯片手册，搜索LED<br><img src="https://s2.loli.net/2023/05/01/KmMtz96dpRVCBwF.png" alt="image.png"><br>这个LED接了一个3.3V的电源，然后接到芯片的nLED_1，当nLED_1输出高电平的时候，LED熄灭，当nLED_1输出低电平的时候，n指的是低电平有效。<br>我们在s3c2440手册里边找到nLED_1连接的脚本是EINT4&#x2F;GPT4<br><img src="https://s2.loli.net/2023/05/01/gQR2Vx6OYCcDtjJ.png" alt="image.png"></p>
<p>我们打开s3c2440找到gpt4的使用，芯片里边有A-J组引脚，gpt4在Port F(GPF)这一组里边<br><img src="https://s2.loli.net/2023/05/01/V6tceIa2QZNYdGE.png" alt="image.png"><br>现在的问题是怎么把GPT4的引脚设置为输出低电平？</p>
<ol>
<li>GPT4配置为输出引脚，注意每个引脚都可以配置为输出引脚还是输入引脚<br><img src="https://s2.loli.net/2023/05/01/V6tceIa2QZNYdGE.png" alt="image.png"><br>GPT4可以设置输入，也可以设置输出，也可以设置中断功能。<br><img src="https://s2.loli.net/2023/05/01/wHu3a9y4tqZSknX.png" alt="image.png"></li>
</ol>
<h1 id="编程设置它的状态"><a href="#编程设置它的状态" class="headerlink" title="编程设置它的状态"></a>编程设置它的状态</h1><p>这个是GPFCON和GPFDAT寄存器的地址：<br><img src="https://s2.loli.net/2023/05/01/Hq2pimJxKaRrwDv.png" alt="image.png"><br>设置GPFCON的[9:8]为0b01，那么GPF4设置为输出引脚,即把0x100写入GPFCON，就是写到地址0x56000050.<br>下面是GPFDATA寄存器的设置说明<br><img src="https://s2.loli.net/2023/05/01/G4q2T3K6aUlXE1A.png" alt="image.png"><br>GPFDATA的意思是设置对应引脚编号的位置为对应引脚输出的值。<br>比如是GPF4：<br>LED熄灭：那么就设置GPFDATA的第4位为1，即为输出高电平，把0x10写到地址0x56000054上；<br>LED点亮：设置GPFDATA的第4位为0，即为输出低电平，把0写到地址0x56000054上；</p>
<p>接下来就是写代码去配置，在写代码配置之前，需要先来了解下s3c2440框架和启动过程<br><img src="https://s2.loli.net/2023/05/01/H5GrkCWlLD2Qw7T.png" alt="image.png"><br>启动过程如下：</p>
<ol>
<li><p>nor启动：nor flash基地址为0，片内RAM地址为0x4000,0000<br>cpu读出nor上第一个指令（前4字节），执行。<br>cpu继续读出其他指令执行。</p>
</li>
<li><p>nand启动：片内4Kram基地址为0，nor flash不可访问，2440硬件把nand前4K内容复制到片内RAM，然后cpu从0地址取出第一条指令执行。</p>
</li>
</ol>
<p>另外，cpu操作寄存器的形式如下：<br><img src="https://s3.bmp.ovh/imgs/2023/05/27/6c3d971cd12ba611.png"></p>
<ol start="4">
<li><p>操作寄存器的几个汇编指令<br>4.1 LDR 指令<br>读内存，LDR R0,[R1] ,假设R1的值是x，读取地址x上的数据（4字节），保存到R0中。<br>4.2 STR指令<br>写内存指令，STR R0,[R1]<br>假设R1的值是x，把R0的值写到地址X（4字节）<br>4.3 B指令<br>跳转<br>4.4 MOV指令<br>MOV R0,R1 把R1的值赋值给R0，R0&#x3D;R1；<br>MOV R0,#0x100，R0&#x3D;0x100;<br>4.5 LDR R0,&#x3D;0x12345678:R0&#x3D;0x12345678<br>这是一条伪指令，它会被拆分为几条真正的RAM指令<br>如果我们用MOV R0,0x12345678，这样是错误的，不能正确执行，因为一条ARM指令长度是32位，除了数据意外，还需要表示指令本身以及其他变量。<br><img src="https://s3.bmp.ovh/imgs/2023/05/27/88729adcce5541c4.png"><br>所以引入伪指令 LDR R0,&#x3D;0x12345678<br>4.6 加减法<br>add r0,r1,#4:r0&#x3D;r1+4 ;<br>sub r0,r1,#4:r0&#x3D;r1-4;<br>sub r0,r1,r2:r0&#x3D;r1-r2;<br>4.7 bl指令<br>branch and link</p>
</li>
<li><p>编写程序<br>我们写的第一个程序是汇编程序，不会上来就写c语言main函数。<br>新建文件led_on.S</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * 点亮LED1: gpf4</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">.global _start</span><br><span class="line"></span><br><span class="line">_start:</span><br><span class="line"></span><br><span class="line">/* 配置GPF4为输出引脚</span><br><span class="line"> * 把0x100写到地址0x56000050</span><br><span class="line"> */</span><br><span class="line">	ldr r1, =0x56000050</span><br><span class="line">	ldr r0, =0x100	/* mov r0, #0x100 */</span><br><span class="line">	str r0, [r1]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* 设置GPF4输出高电平</span><br><span class="line"> * 把0写到地址0x56000054</span><br><span class="line"> */</span><br><span class="line">	ldr r1, =0x56000054</span><br><span class="line">	ldr r0, =0	/* mov r0, #0 */</span><br><span class="line">	str r0, [r1]</span><br><span class="line"></span><br><span class="line">	/* 死循环 */</span><br><span class="line">halt:</span><br><span class="line">	b halt</span><br></pre></td></tr></table></figure>
<p>将此文件放在linux系统编译：<br>5.1.  预编译<br> arm-linux-gcc -c -o led_on.o led_on.S<br>5.2. 连接<br>arm-linux-ld -Ttext 0 led_on.o -o led_on.elf<br>5.3. 得到bin文件<br>arm-linux-objcopy -o binary -S led_on.elf led_on.bin<br>这些命令写的时候容易出错，可以放在一个文件里边。<br>文件名为Makefile</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">all:</span><br><span class="line">	arm-linux-gcc -c -o led_on.o led_on.S</span><br><span class="line">	arm-linux-ld -Ttext 0 led_on.o -o led_on.elf</span><br><span class="line">	arm-linux-objcopy -O binary -S led_on.elf led_on.bin</span><br><span class="line">	arm-linux-objdump -D led_on.elf &gt; led_on.dis</span><br><span class="line">clean:</span><br><span class="line">	rm *.bin *.o *.elf</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<p>5.4. 然后使用make clean来清除，使用make命令来编译</p>
<h1 id="烧写"><a href="#烧写" class="headerlink" title="烧写"></a>烧写</h1><p>将在linux下编译好的并文件copy到windows平台下<br>硬件接好烧写器<br>烧写命令:<br>oflash led_on.bin<br><img src="https://s3.bmp.ovh/imgs/2023/05/27/535c9277e2ab23f9.png"><br>一次输入0、1、0、0、0<br>接下来把烧写排线拔掉，关电，设置为nand启动，上电。<br>效果就是有一个灯亮了。</p>
<h1 id="汇编与机器码"><a href="#汇编与机器码" class="headerlink" title="汇编与机器码"></a>汇编与机器码</h1><p>上边的makefile文件有一条	arm-linux-objdump -D led_on.elf &gt; led_on.dis 这条命令是反汇编指令，会得到一个 led_on.dis文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">led_on.elf:     file format elf32-littlearm</span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">00000000 &lt;_start&gt;:</span><br><span class="line">   0:	e59f1014 	ldr	r1, [pc, #20]	; 1c &lt;.text+0x1c&gt;</span><br><span class="line">   4:	e3a00c01 	mov	r0, #256	; 0x100</span><br><span class="line">   8:	e5810000 	str	r0, [r1]</span><br><span class="line">   c:	e59f100c 	ldr	r1, [pc, #12]	; 20 &lt;.text+0x20&gt;</span><br><span class="line">  10:	e3a00000 	mov	r0, #0	; 0x0</span><br><span class="line">  14:	e5810000 	str	r0, [r1]</span><br><span class="line"></span><br><span class="line">00000018 &lt;halt&gt;:</span><br><span class="line">  18:	eafffffe 	b	18 &lt;halt&gt;</span><br><span class="line">  1c:	56000050 	undefined</span><br><span class="line">  20:	56000054 	undefined</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上边我们提到cpu可以直接访问的寄存器从R0到R15，pc是什么，pc是一个别名，有一张如下的映射表：</p>
<p>User 模式  SVC 模式   IRQ 模式   FIQ 模式  APCS</p>
<p>R0 ——- R0 ——- R0 ——- R0        a1<br>R1 ——- R1 ——- R1 ——- R1        a2<br>R2 ——- R2 ——- R2 ——- R2        a3<br>R3 ——- R3 ——- R3 ——- R3        a4<br>R4 ——- R4 ——- R4 ——- R4        v1<br>R5 ——- R5 ——- R5 ——- R5        v2<br>R6 ——- R6 ——- R6 ——- R6        v3<br>R7 ——- R7 ——- R7 ——- R7        v4<br>R8 ——- R8 ——- R8         R8_fiq    v5<br>R9 ——- R9 ——- R9         R9_fiq    v6<br>R10 —— R10 —— R10        R10_fiq   sl<br>R11 —— R11 —— R11        R11_fiq   fp<br>R12 —— R12 —— R12        R12_fiq   ip<br>R13        R13_svc    R13_irq    R13_fiq   sp<br>R14        R14_svc    R14_irq    R14_fiq   lr<br>————- R15 &#x2F; PC ————-       pc<br>上边的汇编指令执行的时候哦，会是如下的方式：<br><img src="https://s3.bmp.ovh/imgs/2023/05/27/15efca16247ab67c.png"></p>
<h1 id="字节序和位操作"><a href="#字节序和位操作" class="headerlink" title="字节序和位操作"></a>字节序和位操作</h1><p><img src="https://s2.loli.net/2023/11/12/rkCfSFTe5vRscgV.jpg" alt="编程知识_节序_位操作.jpg"></p>
<h1 id="C语言点亮LED"><a href="#C语言点亮LED" class="headerlink" title="C语言点亮LED"></a>C语言点亮LED</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	unsigned int *pGPFCON = (unsigned int *)0x56000050;</span><br><span class="line">	unsigned int *pGPFDAT = (unsigned int *)0x56000054;</span><br><span class="line"></span><br><span class="line">	/* 配置GPF4为输出引脚 */</span><br><span class="line">	*pGPFCON = 0x100;</span><br><span class="line"></span><br><span class="line">	/* 设置GPF4输出0 */</span><br><span class="line">	*pGPFDAT = 0;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>新建一个Start.S文件，用于为C语言文件设置内存，调用main函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.text</span><br><span class="line">.global _start</span><br><span class="line"></span><br><span class="line">_start:</span><br><span class="line"></span><br><span class="line">	/* 设置内存: sp 栈 */</span><br><span class="line">	ldr sp, =4096  /* nand启动 */</span><br><span class="line">//	ldr sp, =0x40000000+4096  /* nor启动 */</span><br><span class="line"></span><br><span class="line">	/* 调用main */</span><br><span class="line">	bl main</span><br><span class="line"></span><br><span class="line">halt:</span><br><span class="line">	b halt</span><br></pre></td></tr></table></figure>

<p>C语言视角内存操作：<br><img src="https://s2.loli.net/2023/11/12/azStEmYAbQKjl3f.jpg" alt="编写C程序控制LED.jpg"></p>
<h1 id="解析C程序的内部机制"><a href="#解析C程序的内部机制" class="headerlink" title="解析C程序的内部机制"></a>解析C程序的内部机制</h1><p>上面点亮LED的代码，反编译为汇编指令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">led.elf:     file format elf32-littlearm</span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">00000000 &lt;_start&gt;:</span><br><span class="line">   0:	e3a0da01 	mov	sp, #4096	; 0x1000</span><br><span class="line">   4:	eb000000 	bl	c &lt;main&gt;</span><br><span class="line"></span><br><span class="line">00000008 &lt;halt&gt;:</span><br><span class="line">   8:	eafffffe 	b	8 &lt;halt&gt;</span><br><span class="line"></span><br><span class="line">0000000c &lt;main&gt;:</span><br><span class="line">   c:	e1a0c00d 	mov	ip, sp</span><br><span class="line">  10:	e92dd800 	stmdb	sp!, &#123;fp, ip, lr, pc&#125;</span><br><span class="line">  14:	e24cb004 	sub	fp, ip, #4	; 0x4</span><br><span class="line">  18:	e24dd008 	sub	sp, sp, #8	; 0x8</span><br><span class="line">  1c:	e3a03456 	mov	r3, #1442840576	; 0x56000000</span><br><span class="line">  20:	e2833050 	add	r3, r3, #80	; 0x50</span><br><span class="line">  24:	e50b3010 	str	r3, [fp, #-16]</span><br><span class="line">  28:	e3a03456 	mov	r3, #1442840576	; 0x56000000</span><br><span class="line">  2c:	e2833054 	add	r3, r3, #84	; 0x54</span><br><span class="line">  30:	e50b3014 	str	r3, [fp, #-20]</span><br><span class="line">  34:	e51b2010 	ldr	r2, [fp, #-16]</span><br><span class="line">  38:	e3a03c01 	mov	r3, #256	; 0x100</span><br><span class="line">  3c:	e5823000 	str	r3, [r2]</span><br><span class="line">  40:	e51b2014 	ldr	r2, [fp, #-20]</span><br><span class="line">  44:	e3a03000 	mov	r3, #0	; 0x0</span><br><span class="line">  48:	e5823000 	str	r3, [r2]</span><br><span class="line">  4c:	e3a03000 	mov	r3, #0	; 0x0</span><br><span class="line">  50:	e1a00003 	mov	r0, r3</span><br><span class="line">  54:	e24bd00c 	sub	sp, fp, #12	; 0xc</span><br><span class="line">  58:	e89da800 	ldmia	sp, &#123;fp, sp, pc&#125;</span><br><span class="line">Disassembly of section .comment:</span><br><span class="line"></span><br><span class="line">00000000 &lt;.comment&gt;:</span><br><span class="line">   0:	43434700 	cmpmi	r3, #0	; 0x0</span><br><span class="line">   4:	4728203a 	undefined</span><br><span class="line">   8:	2029554e 	eorcs	r5, r9, lr, asr #10</span><br><span class="line">   c:	2e342e33 	mrccs	14, 1, r2, cr4, cr3, &#123;1&#125;</span><br><span class="line">  10:	Address 0x10 is out of bounds.</span><br></pre></td></tr></table></figure>
<p>下面对这段指令进行解析:<br><img src="https://s2.loli.net/2023/11/12/U4LcDuHOaCokinr.jpg" alt="解析C程序的内部机制.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2023/04/24/embed/kaifabanshuxihetiyan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/04/24/embed/kaifabanshuxihetiyan/" class="post-title-link" itemprop="url">开发板熟悉与体验(jz2440)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-24 22:12:45" itemprop="dateCreated datePublished" datetime="2023-04-24T22:12:45+00:00">2023-04-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:58" itemprop="dateModified" datetime="2023-11-12T07:06:58+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/embed/" itemprop="url" rel="index"><span itemprop="name">embed</span></a>
        </span>
    </span>

  
    <span id="/2023/04/24/embed/kaifabanshuxihetiyan/" class="post-meta-item leancloud_visitors" data-flag-title="开发板熟悉与体验(jz2440)" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="选择什么开发板"><a href="#选择什么开发板" class="headerlink" title="选择什么开发板"></a>选择什么开发板</h1><p>我们学习单片机的目的是什么，是为了后期学习linux系统驱动做铺垫。<br>它的层级结构是这样的：<br>单片机-&gt;bootloader-&gt;linux系统&#x2F;驱动-&gt;app<br>                                      :纯c&#x2F;c++无界面<br>                                      :qt&#x2F;android</p>
<p>在单片机-&gt;bootloader-&gt;linux系统&#x2F;驱动-&gt;app-&gt;qt这个学习路线上我们可以使用同一套开发板。<br>怎么选择开发板？答案是资料丰富<br>他们百度搜索结果条数</p>
<ul>
<li><p>三星系列的</p>
</li>
<li><p>s3c2440     92万</p>
</li>
<li><p>s3c6410     43万</p>
</li>
<li><p>s5pv210     22万</p>
</li>
<li><p>exynos4412  14万</p>
</li>
<li><p>ti</p>
</li>
<li><p>AM437x       4.5万</p>
</li>
<li><p>AM335x       164万 营销好 用户多，工控芯片</p>
</li>
<li><p>freescale</p>
<ul>
<li>I.MX6       21万</li>
</ul>
</li>
<li><p>全志，瑞芯微  资料不开放<br>从教程丰富程度，我们选择s3c2440</p>
<h2 id="错误观点"><a href="#错误观点" class="headerlink" title="错误观点"></a>错误观点</h2><p>有人说s3c2440过时了，他的cpu还是arm9，性能差，过时了，但是他的知识没有过时。<br><img src="https://s2.loli.net/2023/05/01/BGu1cCqo2LsmU3y.png" alt="image.png"><br>我们在操作硬件的时候，不是操作的cpu，不接触cpu的指令，而是操作内存和寄存器，以及硬件的口径。<br>只有在中断的时候，才和cpu有点关系，但是不同的cpu之间关系比较小，没啥成本，并且我们以后再学习linux内核的时候，linux已经帮我们做好了封装和处理，根本不需要我们关心。</p>
</li>
</ul>
<p>驱动&#x3D;软件框架+硬件操作</p>
<p>软件框架都是一样的，所有内核都是linux内核，硬件操作，只要在s3c2440掌握了i2c，spi的原理，其他的硬件开发板都是一样的。</p>
<h1 id="使用什么开发工具"><a href="#使用什么开发工具" class="headerlink" title="使用什么开发工具"></a>使用什么开发工具</h1><p>ads,keil,mdk<br>只要写一个main函数，所有细节都封装了，谁来调main，c写的main函数代码生成代码怎么放在内存里边，这些工具都帮你做了，但是这些工具封装了太多的细节，不适合初学者，初学者应该学习细节，扎实基础，因此不会使用这些开发工具。<br>基于arm+linux裸机学习我们可以学习更多知识。<br>学习了s3c2440+linux裸机开发+arm芯片，回过头来再去学习STM32就是几分钟搞定的事情。<br>这样我们就能无缝进入后续的学习bootloader、linux驱动。</p>
<h1 id="开发板介绍"><a href="#开发板介绍" class="headerlink" title="开发板介绍"></a>开发板介绍</h1><p>s3c2440开发板，实际上他的性能并不是很强，但是他的资料非常的丰富<br><img src="https://s2.loli.net/2023/05/01/YzpM71Xv3flhreC.png" alt="20210906021414799.png"><br><img src="https://s2.loli.net/2023/05/01/4XcUry2pGwILqWY.png" alt="20210906021415633.png"></p>
<h1 id="开发板接口介绍与串口连接"><a href="#开发板接口介绍与串口连接" class="headerlink" title="开发板接口介绍与串口连接"></a>开发板接口介绍与串口连接</h1><h2 id="怎么使用这个开发板，它里边有如下几个核心接口"><a href="#怎么使用这个开发板，它里边有如下几个核心接口" class="headerlink" title="怎么使用这个开发板，它里边有如下几个核心接口"></a>怎么使用这个开发板，它里边有如下几个核心接口</h2><p><img src="https://s2.loli.net/2023/05/01/UBo9PQyFuNbHh1X.png" alt="image.png"></p>
<ul>
<li>接通电源</li>
<li>按下开关</li>
<li>使用串口(usb串口)观察信息<ul>
<li>连接以后windows会自动安装驱动(如果没法自动安装，可以下载PL2303_Prolific_DriverInstaller_v1.7.0.exe或者驱动精灵暗转)</li>
<li>然后我们需要在pc安装一个mobaxterm软件，用来连接串口，这样开发板通过串口返回的信息我们可以在这个软件里边看到，也可以用这个软件通过串口发送命令给开发板</li>
</ul>
</li>
<li>使用jtag口（usb烧写器）烧写程序</li>
<li>如果板上程序支持usb下载，板子的bus接口连接pc的usb接口<ul>
<li>烧写软件：oflash.ext</li>
<li>硬件:op&#x2F;eop、 easy open jtag</li>
<li>驱动<ul>
<li>eop连接到pc</li>
<li>安装eop驱动</li>
<li>暗转app</li>
<li>开发板通过排线连接到eop，eop通过usb线连接到pc</li>
<li>执行oflash.exe xxx.bin</li>
<li>断开开发板和eop，断开eop和pc的连线</li>
<li>设置从nor或者nand启动</li>
<li>重新上电</li>
</ul>
</li>
</ul>
</li>
<li>启动选择开关：从nor启动，还是从nand启动</li>
</ul>
<p>mobaxterm设置串口的时候，注意下波特率和不选中限流：<br><img src="https://s2.loli.net/2023/05/01/KaMgHwTV1Fb6tJv.png" alt="image.png"></p>
<h1 id="使用eop烧写裸板程序"><a href="#使用eop烧写裸板程序" class="headerlink" title="使用eop烧写裸板程序"></a>使用eop烧写裸板程序</h1><h2 id="eop烧写"><a href="#eop烧写" class="headerlink" title="eop烧写"></a>eop烧写</h2><p> 将eop连接到pc，然后安装驱动(下载驱动程序OpenOCD with GUI setup.exe)，开发板通过排线连接到eop，eop通过usb线连接到pc 这三个步骤做完。<br> oflash.exe烧写的bin文件，可以是u-boot.bin，它可以选择烧写到nor或者nand上，烧写到0地址。<br> 也可以直接烧写我么自己写的程序，比如led.bin。烧写到nand上去，烧写到0地址。</p>
<ol>
<li><p>命令模式下，切换到要烧写的文件所在的目录里，执行oflash xx.bin<br><img src="https://s2.loli.net/2023/05/01/1Z6qYdcQ8eHUC4A.png" alt="image.png"></p>
</li>
<li><p>烧写到nand flash（2次确认）<br><img src="https://s2.loli.net/2023/05/01/Zbvy9qhVoYw36cT.png" alt="image.png"></p>
</li>
<li><p>烧写到0地址<br><img src="https://s2.loli.net/2023/05/01/jDoGpTqfAK4Qy5H.png" alt="image.png"></p>
</li>
<li><p>将开发板的启动开关设置为nand启动</p>
</li>
<li><p>将jtag线拔掉，拔掉的原因是jtag上有复位引脚，不然无法启动</p>
</li>
<li><p>按下电源开关关闭开发板，然后重新上电，启动开发板，就会看到烧写的程序运行，如果是led的程序，开发板的灯就会闪烁</p>
</li>
</ol>
<p>如果是烧写uboot，在启动以后我们可以通过mobaxterm连接到串口，在uboot等待3秒之内，在mobaxterm的串口命令窗口按下空格键，就会进入uboot 的菜单<br><img src="https://s2.loli.net/2023/05/01/DYPBrMJLq8m4uG5.png" alt="image.png"><br>空格以后：<br><img src="https://s2.loli.net/2023/05/01/nghrGv7b1RkWEUF.png" alt="image.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2022/12/30/life/2022_end_review/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/30/life/2022_end_review/" class="post-title-link" itemprop="url">2022 year-end review</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-12-30 19:43:45" itemprop="dateCreated datePublished" datetime="2022-12-30T19:43:45+00:00">2022-12-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
        </span>
    </span>

  
    <span id="/2022/12/30/life/2022_end_review/" class="post-meta-item leancloud_visitors" data-flag-title="2022 year-end review" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>说来惭愧，博客一年没怎么更新了，说什么理由都是借口，哈哈哈，其实在Java领域玩了这么多年，对于技术细节探索和新技术兴趣，没有刚开始进入这个领域热情高涨了，转而对技术架构设计产生了极大的热情，<br>但是技术架构探索和积累是完全通过理论加实践实际操作搅拌出来了，第二个是在做嵌入式相关的学习，目前还没有输出像样子的东西，不好意思写博客，今年的复盘如下：<br><img src="https://s3.bmp.ovh/imgs/2023/01/02/096480c43775a0d3.png"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/12/30/life/2022_end_review/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2022/06/25/architecture/how_write_a_tech_plan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/25/architecture/how_write_a_tech_plan/" class="post-title-link" itemprop="url">如何写好一篇好的技术方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-06-25 14:25:00" itemprop="dateCreated datePublished" datetime="2022-06-25T14:25:00+00:00">2022-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:58" itemprop="dateModified" datetime="2023-11-12T07:06:58+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/architecture/" itemprop="url" rel="index"><span itemprop="name">architecture</span></a>
        </span>
    </span>

  
    <span id="/2022/06/25/architecture/how_write_a_tech_plan/" class="post-meta-item leancloud_visitors" data-flag-title="如何写好一篇好的技术方案" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://s2.loli.net/2022/06/25/5g3GeQ9nRz6f2bF.webp" alt="641.png"></p>
<h1 id="1-背景"><a href="#1-背景" class="headerlink" title="1 背景"></a>1 背景</h1><p>近期在写某个项目的技术方案时，来来回回修改许多版，同时也将之前自己写的&amp;别人写的技术方案都翻出来看了几遍，其实也很苦恼，于是也产生了一个想法：为什么我们需要写技术方案？<br>总结下来无非是几点，从不同人的视角来看：</p>
<ol>
<li><p>产品-验证技术方案是否能够match上产品方案</p>
</li>
<li><p>测试-验证技术方案是否足够&amp;准确的输入写测试方案</p>
</li>
<li><p>同事&amp;leader-参与技术方案评审,验证技术方案的合理性</p>
</li>
<li><p>新人（不单单指新同学也指新接触这一块的同学）-拿到技术方案可以很快对某一块的事情熟悉起来</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/06/25/architecture/how_write_a_tech_plan/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2022/02/05/architecture/what_is_architecture/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/02/05/architecture/what_is_architecture/" class="post-title-link" itemprop="url">浅谈架构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-05 14:25:00" itemprop="dateCreated datePublished" datetime="2022-02-05T14:25:00+00:00">2022-02-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:58" itemprop="dateModified" datetime="2023-11-12T07:06:58+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/architecture/" itemprop="url" rel="index"><span itemprop="name">architecture</span></a>
        </span>
    </span>

  
    <span id="/2022/02/05/architecture/what_is_architecture/" class="post-meta-item leancloud_visitors" data-flag-title="浅谈架构" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://s2.loli.net/2022/02/05/eUDdT19AyOtoVPL.jpg" alt="fcb226b79e150279769d6becdf281c7.jpg"></p>
<h3 id="什么是架构"><a href="#什么是架构" class="headerlink" title="什么是架构"></a>什么是架构</h3><h4 id="架构的定义"><a href="#架构的定义" class="headerlink" title="架构的定义"></a>架构的定义</h4><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>架构(Architecture)&#x3D;体系结构(Structure)+理念(Strategy)+模式(Patterns)</p>
<h5 id="架构方法论中的架构分类定义"><a href="#架构方法论中的架构分类定义" class="headerlink" title="架构方法论中的架构分类定义"></a>架构方法论中的架构分类定义</h5><h6 id="企业架构与软件架构"><a href="#企业架构与软件架构" class="headerlink" title="企业架构与软件架构"></a>企业架构与软件架构</h6><ul>
<li>企业架构的构成TOGAF&#x2F;PEAF</li>
<li>我们常说的软件架构更多是信息系统架构与技术架构</li>
<li>而我们常常关注的反而是业务架构（或者说信息系统中的应用架构）
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/02/05/architecture/what_is_architecture/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2021/12/31/life/leeklife_4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/12/31/life/leeklife_4/" class="post-title-link" itemprop="url">在人间做韭菜的那些年(4)--2021年终总结回顾</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-12-31 02:10:00" itemprop="dateCreated datePublished" datetime="2021-12-31T02:10:00+00:00">2021-12-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
        </span>
    </span>

  
    <span id="/2021/12/31/life/leeklife_4/" class="post-meta-item leancloud_visitors" data-flag-title="在人间做韭菜的那些年(4)--2021年终总结回顾" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>  <img src="https://s2.loli.net/2022/01/04/NokXETPJj4UuZzR.jpg" alt="hinata.jpg"><br>  自从疫情以来，基本上没啥好的事情，中美对抗，股市跌宕，美股熔断，互联网内卷、房市末路，男女对立加重，青春也随着时间流逝，越是艰难的时候，越是需要思考总结，复盘，否则过了这个时间，铁就打不热了。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/12/31/life/leeklife_4/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2021/07/18/starter_struct/shardingsphere_jdbc_starter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/18/starter_struct/shardingsphere_jdbc_starter/" class="post-title-link" itemprop="url">shardingsphere_jdbc_starter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-18 22:01:45" itemprop="dateCreated datePublished" datetime="2021-07-18T22:01:45+00:00">2021-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/starter-struct/" itemprop="url" rel="index"><span itemprop="name">starter_struct</span></a>
        </span>
    </span>

  
    <span id="/2021/07/18/starter_struct/shardingsphere_jdbc_starter/" class="post-meta-item leancloud_visitors" data-flag-title="shardingsphere_jdbc_starter" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="Sharding-JDBC简介"><a href="#Sharding-JDBC简介" class="headerlink" title="Sharding-JDBC简介"></a>Sharding-JDBC简介</h3><p>定位为轻量级Java框架，在Java的JDBC层提供的额外服务。 它使用客户端直连数据库，以jar包形式提供服务，无需额外部署和依赖，可理解为增强版的JDBC驱动，完全兼容JDBC和各种ORM框架。</p>
<ul>
<li>适用于任何基于JDBC的ORM框架，如：JPA, Hibernate, Mybatis, Spring JDBC Template或直接使用JDBC。</li>
<li>支持任何第三方的数据库连接池，如：DBCP, C3P0, BoneCP, Druid, HikariCP等。<br> 支持任意实现JDBC规范的数据库。目前支持MySQL，Oracle，SQLServer，PostgreSQL以及任何遵循SQL92标准的数据库。</li>
</ul>
<p> <img src="https://shardingsphere.apache.org/document/legacy/4.x/document/img/sharding-jdbc-brief.png" alt="image.png"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/07/18/starter_struct/shardingsphere_jdbc_starter/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2021/05/30/life/leeklife_3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/30/life/leeklife_3/" class="post-title-link" itemprop="url">在人间做韭菜的那些年(4)--怎么管理聪明人&送别孤尽</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-05-30 10:44:45" itemprop="dateCreated datePublished" datetime="2021-05-30T10:44:45+00:00">2021-05-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
        </span>
    </span>

  
    <span id="/2021/05/30/life/leeklife_3/" class="post-meta-item leancloud_visitors" data-flag-title="在人间做韭菜的那些年(4)--怎么管理聪明人&送别孤尽" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="一个让人抵触但又有所收获的局"><a href="#一个让人抵触但又有所收获的局" class="headerlink" title="一个让人抵触但又有所收获的局"></a>一个让人抵触但又有所收获的局</h3><p>这周参加了一次“洗脑”式的培训，主要是价值观强化，整个集团组织过于庞大，在管理上要想实现高度的统一和控制，第一需要一套价值观时刻提醒每一颗韭菜，第二，这个价值观要和韭菜利益强相关–即纳入绩效系统，参加这个局，其实大部分的思想是过来接受集团的强制文化熏陶，5天当一个混子，摸摸鱼（实际上我也是这样度过的），但是中间有一些集团的老员工的分享风格让我认识到了一个点，这些合伙人现场给我们做分享，风格透露着很真实的言语和思想，比如内卷、996、蚂蚁ipo流产是不是说明蚂蚁不行了、工作和生活怎么平衡、女强人的想法、老板pua等这些问题都在会上直接抛给了这些在集团工作超过10年的老员工以及合伙人。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/05/30/life/leeklife_3/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2021/04/24/life/leeklife_2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/24/life/leeklife_2/" class="post-title-link" itemprop="url">在人间做韭菜的那些年(3)--项目推进迭代流程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-04-24 14:26:45" itemprop="dateCreated datePublished" datetime="2021-04-24T14:26:45+00:00">2021-04-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
        </span>
    </span>

  
    <span id="/2021/04/24/life/leeklife_2/" class="post-meta-item leancloud_visitors" data-flag-title="在人间做韭菜的那些年(3)--项目推进迭代流程" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="项目推进"><a href="#项目推进" class="headerlink" title="项目推进"></a>项目推进</h3><p>互联网做项目都是一把梭，在企业没有现有的项目管理系统的前提下，需要有一套行之有效的项目推进的步骤，以下是笔者认为还算ok的一套流程:<br><img src="https://i.loli.net/2021/04/24/MunjWY9IglcKHt8.png" alt="image.png"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/24/life/leeklife_2/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2021/04/05/life/leeklife_1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 南贺神社">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/05/life/leeklife_1/" class="post-title-link" itemprop="url">在人间做韭菜的那些年(2)--搬砖军规</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-04-05 10:44:45" itemprop="dateCreated datePublished" datetime="2021-04-05T10:44:45+00:00">2021-04-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-12 07:06:59" itemprop="dateModified" datetime="2023-11-12T07:06:59+00:00">2023-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
        </span>
    </span>

  
    <span id="/2021/04/05/life/leeklife_1/" class="post-meta-item leancloud_visitors" data-flag-title="在人间做韭菜的那些年(2)--搬砖军规" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>写了好几年代码，今天梳理和沉淀一些搬砖盖楼的方法论，时刻鞭策自己去遵守以及重温它们。</p>
<h3 id="编码军规"><a href="#编码军规" class="headerlink" title="编码军规"></a>编码军规</h3><ol>
<li>并发控制,默认使用悲观锁,一锁二判三更新,乐观引入须谨慎。</li>
<li>幂等拦截,幂等新老要兼容,字段约束需一致,异常场景防击穿。</li>
<li>状态推进,流转设计要完整,状态推进凭指令,业务态不可逆。</li>
<li>对象设置,成员变量慎赋值,引值引址需眼晰,对象比较用 equals。</li>
<li>数据库表,SQL必须带字段, where条件有索引,索引不含隐式转。</li>
<li>时间设置,关注时区和时,避兔设置当地值, string传值带时区。</li>
<li>异常防御,请求校验防慕改,异常 catch不能吞,线程对象清理好。</li>
<li>代码质量,CR单测集成测,结果断言边界值,金量回归不能少。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/05/life/leeklife_1/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CeaserWang</span>
</div>
  <div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9tdXNlLw==">NexT.Muse</span>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.1/mermaid.min.js","integrity":"sha256-8L3O8tirFUa8Va4NSTAyIbHJeLd6OnlcxgupV9F77e0="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"ryAR9bttS7fex1FPEPAylmmJ-gzGzoHsz","app_key":"dYqygoN4Y01Bl38OdRoCHUYn","server_url":null,"security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>



</body>
</html>
