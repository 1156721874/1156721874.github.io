---
title: ' 设计模式(7)-原型模式'
date: 2018-09-28 20:38:35
tags: DesignPatterns
categories: DesignPatterns
---
![这里写图片描述](2018/09/28/设计模式-7-原型模式/20151011162526441.png)
**思想：**克 隆一个已有的类的实例（大家相比都用过甚至写过类的Clone实现，应该很容易理解了）。
**场景：**应 用Clone的场景应该说非常多，理想情况下我当然希望任何类都能Clone， 需要的时候就能Clone一份一模一样的出来。
<!-- more -->
**实现：**这 里将的实现主要之实现的表现形式，而不是如何用具体的语言来实现。因此，只要为需要Clone能力 的类定义一个Clone方法就行。当然，一般，主流的程序语言框架都已经定义了通用的Clone接 口（当然也可以自己定义），继承并实现该接口和方法就好。
**重构成本：**极低。不多解释了吧。
举例：

```
//抽象原型类
abstract class Shape implements Colneable{
	String shapeName;
	public String getShapeName(){
	retun shapeName;
}
public void setShapeName(String shapeName){
     this.shapeName = shapeName;
}
//实现了Colneable接口的类，可以使用clone()方法复制对象
public Object clone(){
	try{
	return super.clone();
}catch(CloneNotSupportedException e){
	System.err.println(“此对象不支持复制”);
}
return null;
}
}
//具体原型类
publc class Circle extends Shape{
	public Circle(){
	setShapeName(“Circle shape”);
}
public static void main(String[] args){
	Shape shape = new Circle();
	System.out.println(shape.getShapeName());
	//通过clone()方法获得一个对象拷贝
	Shape shape2 = (Shape)shape.clone();
	System.out.println(shape2.getShapeName());
}
}
```
Cloneable为标记接口：
```
package java.lang;
pubilc interface Cloneable{
}
```

clone()方法是在Object中定义的,而且是protected的，只有实现了Cloneable接口的类才可以在其实例上调用clone()方法，否则会抛出CloneNotSupportException。
为了获取对象的一份拷贝，我们可以利用Object类的clone()方法，也可以实现Cloneable接口，覆盖基类的clone()方法，在clone()方法中，调用super.clone()。
[关于拷贝详见：http://blog.csdn.net/wzq6578702/article/details/49048851](http://blog.csdn.net/wzq6578702/article/details/49048851)
JDK中原型模式的应用：
java.lang.Object#clone()
java.lang.Cloneable
